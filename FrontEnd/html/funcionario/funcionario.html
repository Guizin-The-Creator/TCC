<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Painel Funcion√°rio - Sistema de Tarefas</title>
  <meta name="description" content="Painel do funcion√°rio para gerenciamento de tarefas" />

  <!-- √çcones Lucide -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

  <!-- Flatpickr CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

  <!-- FullCalendar CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" />

  <!-- CSS personalizado -->
  <link rel="stylesheet" href="../../css/funcionariocss/funcionario.css" />
</head>

<body>
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="logo-container">
        <i class="logo-icon" data-lucide="layers-3"></i>
      </div>
      <span class="system-name">Funcion√°rio</span>
    </div>
    <nav class="sidebar-nav">
      <button class="menu-button btn-nav ativo" data-secao="tarefas">
        <i data-lucide="clipboard-list" class="menu-icon"></i>
        <span class="menu-label label">Tarefas</span>
      </button>
      <button class="menu-button btn-nav" data-secao="visao-geral">
        <i data-lucide="pie-chart" class="menu-icon"></i>
        <span class="menu-label label">Vis√£o Geral</span>
      </button>
      <button class="menu-button btn-nav" data-secao="perfil">
        <i data-lucide="user" class="menu-icon"></i>
        <span class="menu-label label">Meu Perfil</span>
      </button>
      <button class="menu-button btn-nav" data-secao="calendario">
        <i data-lucide="calendar" class="menu-icon"></i>
        <span class="menu-label label">Calend√°rio</span>
      </button>
    </nav>
    <div class="sidebar-footer">
      <button class="menu-button logout-button" id="logoutBtn">
        <i data-lucide="log-out" class="menu-icon"></i>
        <span class="menu-label label">Sair</span>
      </button>
    </div>
  </aside>

  <!-- Conte√∫do Principal -->
  <main class="main-content">
    <!-- Painel Tarefas -->
    <section class="content-section active" id="painel-tarefas">
      <div class="section-header">
        <h1>Minhas Tarefas</h1>
      </div>

      <!-- Post-it fixado -->
      <div id="postit" class="postit-container oculto"></div>

      <!-- Painel de Filtros -->
      <div class="filters-panel">
        <div class="filters-header">
          <h3>
            <i data-lucide="filter" class="filter-icon"></i>
            Filtros
          </h3>
          <button class="btn-clear-filters" id="btnLimparFiltrosTarefas">
            <i data-lucide="x" class="btn-icon"></i>
            Limpar Filtros
          </button>
        </div>

        <div class="filter-selector">
          <label>
            <i data-lucide="settings-2" class="input-icon"></i>
            Adicionar Filtro
          </label>
          <select id="seletorFiltroTarefas" class="filter-type-select">
            <option value="">Selecione um filtro...</option>
            <option value="busca">üîç Buscar</option>
            <option value="status">‚úÖ Status</option>
            <option value="prioridade">üö© Prioridade</option>
            <option value="data">üìÖ Data</option>
            <option value="ordenar">‚ÜïÔ∏è Ordenar</option>
          </select>
        </div>

        <div id="filtrosAtivosTarefas" class="active-filters"></div>
      </div>

      <!-- Tabela de Tarefas -->
      <div class="table-container">
        <table class="task-table tabela" id="tabelaTarefas">
          <thead>
            <tr>
              <th>T√≠tulo</th>
              <th>Status</th>
              <th>In√≠cio</th>
              <th>Fim</th>
              <th>Prioridade</th>
              <th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody id="tbodyTarefas"></tbody>
        </table>
      </div>

      <!-- Formul√°rio de Edi√ß√£o -->
      <div id="formEditarContainer" class="form-edit-container oculto">
        <div class="form-edit-header">
          <h3>
            <i data-lucide="edit-3" class="form-icon"></i>
            Editar Status da Tarefa
          </h3>
        </div>
        <form id="formEditarRelacao" class="task-form">
          <input type="hidden" id="idTarefaSelecionada">
          <div class="form-group">
            <label for="txtStatusEditar">Status *</label>
            <select id="txtStatusEditar" required>
              <option value="Pendente">Pendente</option>
              <option value="Em andamento">Em andamento</option>
              <option value="Conclu√≠da">Conclu√≠da</option>
            </select>
          </div>
          <div class="modal-actions">
            <button class="btn-primary" type="submit">
              <i data-lucide="check" class="btn-icon"></i>
              Atualizar
            </button>
            <button class="btn-secondary" id="btnCancelarEdicao" type="button">
              <i data-lucide="x" class="btn-icon"></i>
              Cancelar
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- Painel Vis√£o Geral -->
    <section class="content-section" id="painel-visao-geral">
      <div class="section-header">
        <h1>Vis√£o Geral das Tarefas</h1>
      </div>
      <div class="chart-container">
        <canvas id="graficoTarefas"></canvas>
      </div>
    </section>

    <!-- Painel Perfil -->
    <section class="content-section" id="painel-perfil">
      <div class="section-header">
        <h1>Meu Perfil</h1>
      </div>
      <div class="form-card">
        <form id="formPerfil" class="task-form">
          <div class="form-group">
            <label for="nomeUsuario">Nome *</label>
            <input type="text" id="nomeUsuario" required autocomplete="username" />
          </div>
          <div class="form-group">
            <label for="emailUsuario">Email *</label>
            <input type="email" id="emailUsuario" required autocomplete="email" />
          </div>
          <div class="form-group">
            <label for="senhaUsuario">Senha</label>
            <input type="password" id="senhaUsuario" placeholder="Deixe em branco para n√£o alterar"
              autocomplete="current-password" />
          </div>
          <div class="modal-actions">
            <button class="btn-primary" type="submit">
              <i data-lucide="save" class="btn-icon"></i>
              Salvar
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- Painel Calend√°rio -->
    <section class="content-section" id="painel-calendario">
      <div class="section-header">
        <h1>Calend√°rio de Tarefas & Anota√ß√µes</h1>
      </div>
      <div id="calendario"></div>
    </section>
  </main>

  <!-- Modais -->
  <div class="modal-overlay modal oculto" id="modalRecado">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Adicionar Recado</h3>
      </div>
      <div class="modal-body">
        <p>Data: <span id="dataRecado"></span></p>
        <textarea id="txtRecado" rows="4" placeholder="Digite seu recado..." required></textarea>
      </div>
      <div class="modal-actions">
        <button class="btn-primary" id="salvarRecado">Salvar</button>
        <button class="btn-secondary" id="cancelarRecado">Cancelar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay modal oculto" id="modalConfirmacao">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Confirma√ß√£o</h3>
      </div>
      <div class="modal-body">
        <p id="modal-text"></p>
      </div>
      <div class="modal-actions">
        <button class="btn-primary" id="confirmarExcluir">Confirmar</button>
        <button class="btn-secondary" id="cancelarExcluir">Cancelar</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay modal oculto" id="modalConclusao">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Confirmar Conclus√£o</h3>
      </div>
      <div class="modal-body">
        <p id="modal-conclusao-text"></p>
      </div>
      <div class="modal-actions">
        <button class="btn-primary" id="confirmarConclusao">Sim</button>
        <button class="btn-secondary" id="cancelarConclusao">N√£o</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay modal oculto" id="modalDetalhesTarefa">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="detalhesTituloTarefa">Detalhes da Tarefa</h3>
      </div>
      <div class="modal-body">
        <pre id="detalhesDescricaoTarefa"></pre>
      </div>
      <div class="modal-actions">
        <button class="btn-secondary" id="fecharDetalhesTarefa">Fechar</button>
      </div>
    </div>
  </div>

  <!-- Resposta Popup -->
  <div id="divResposta" class="resposta-popup"></div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
  <script src="../../javascript/funcionarioFunctions/dashboardFuncionario.js"></script>
</body>

</html>