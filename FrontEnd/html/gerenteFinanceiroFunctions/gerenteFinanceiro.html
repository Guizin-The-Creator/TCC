<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Painel Gerente Financeiro</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../../css/gerenteFinanceirocss/gerenteFinanceiro.css" />
</head>

<body>
  <div class="sidebar">
    <div class="sidebar-header">
      <svg class="logo-icon" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="10" fill="currentColor" />
      </svg>
      <span class="system-name">Financeiro</span>
    </div>
    <div class="divider"></div>
    <div class="sidebar-section-header">Gerência</div>

    <a class="menu-button btn-nav" href="#" data-secao="tarefa-criar">
      <svg class="menu-icon" viewBox="0 0 24 24">
        <path d="M12 5v14m-7-7h14" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />
      </svg><span class="label">Criar Tarefa</span>
    </a>
    <a class="menu-button btn-nav" href="#" data-secao="tarefa-atribuir">
      <svg class="menu-icon" viewBox="0 0 24 24">
        <path d="M15 14a5 5 0 00-10 0v1h10v-1zm0-3a4 4 0 11-8 0 4 4 0 018 0zm6 2v4m2-2h-4" stroke="currentColor"
          stroke-width="2" fill="none" stroke-linecap="round" />
      </svg><span class="label">Atribuir</span>
    </a>
    <div class="divider"></div>
    <div class="sidebar-section-header">Financeiro</div>
    <a class="menu-button btn-nav" href="#" data-secao="visao-financeira">
      <svg class="menu-icon" viewBox="0 0 24 24">
        <path d="M3 3v18h18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />
        <path d="M7 13h4v6H7zm6-6h4v12h-4zm6-4h4v16h-4z" fill="currentColor" />
      </svg><span class="label">Visão Financeira</span>
    </a>
    <a class="menu-button btn-nav" href="#" data-secao="calendario">
      <svg class="menu-icon" viewBox="0 0 24 24">
        <path
          d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"
          fill="currentColor" />
      </svg><span class="label">Calendário</span>
    </a>
    <a class="menu-button btn-nav" href="#" data-secao="lancamentos">
      <svg class="menu-icon" viewBox="0 0 24 24">
        <path d="M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6" stroke="currentColor" stroke-width="2"
          fill="none" stroke-linecap="round" />
      </svg><span class="label">Lançamentos</span>
    </a>
    <a class="menu-button btn-nav" href="#" data-secao="extratos">
      <svg class="menu-icon" viewBox="0 0 24 24">
        <path d="M4 4h16v16H4z" stroke="currentColor" stroke-width="2" fill="none" />
        <path d="M8 8h8M8 12h8M8 16h4" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
      </svg><span class="label">Extratos</span>
    </a>
    <a class="menu-button btn-nav" href="#" data-secao="indices">
      <svg class="menu-icon" viewBox="0 0 24 24">
        <path d="M5 12h14M12 5v14" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />
      </svg><span class="label">Índices</span>
    </a>
    <a class="menu-button btn-nav" href="#" data-secao="produtos">
      <svg class="menu-icon" viewBox="0 0 24 24">
        <path d="M6 7h12l1 12H5z" stroke="currentColor" stroke-width="2" fill="none" />
        <path d="M9 7V5a3 3 0 016 0v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
      </svg><span class="label">Produtos</span>
    </a>
    <a class="menu-button btn-nav" href="#" data-secao="perfil">
      <svg class="menu-icon" viewBox="0 0 24 24">
        <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z" stroke="currentColor"
          stroke-width="2" fill="none" stroke-linecap="round" />
      </svg><span class="label">Perfil</span>
    </a>
    <a class="menu-button btn-nav" href="#" data-secao="orcamentos-anuais">
      <svg class="menu-icon" viewBox="0 0 24 24">
        <path d="M12 2L3 7v10l9 5 9-5V7z" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />
        <path d="M3 7l9 5 9-5M12 2v20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />
      </svg><span class="label">Orçamentos Anuais</span>
    </a>
    <a class="menu-button btn-nav" href="#" data-secao="orcamentos-tri">
      <svg class="menu-icon" viewBox="0 0 24 24">
        <path d="M12 2L3 7v10l9 5 9-5V7z" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />
        <path d="M3 7l9 5 9-5M12 2v20M7 10l5 3 5-3M7 14l5 3 5-3" stroke="currentColor" stroke-width="2" fill="none"
          stroke-linecap="round" />
      </svg><span class="label">Orçamentos Trimestrais</span>
    </a>
  </div>

  <div class="main-content">
    <header class="dashboard-header">
      <h1 class="header-title">Painel do Gerente Financeiro</h1>
      <div class="user-info">
        <div class="user-avatar">GM</div>
        <span>Olá, Gerente!</span>
        <button id="btnLogout" class="btn-logout">Sair</button>
      </div>
    </header>

    <div class="popup-resposta" id="respostaGeral"></div>
    <div class="popup-resposta" id="respostaTarefa"></div>
    <div class="popup-resposta" id="respostaAtribuicao"></div>
    <div class="popup-resposta" id="respostaLancamento"></div>
    <div class="popup-resposta" id="respostaExtrato"></div>
    <div class="popup-resposta" id="respostaIndice"></div>
    <div class="popup-resposta" id="respostaProduto"></div>
    <div class="popup-resposta" id="respostaOrcamentoAnual"></div>
    <div class="popup-resposta" id="respostaOrcamentoTrimestral"></div>


    <main>
      <section id="painel-tarefa-criar" class="oculto">
        <h2>Gerenciar Tarefas</h2>
        <button class="btn btn-criar" onclick="abrirModalNovaTarefa()">Nova Tarefa</button>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Título</th>
                <th>Prioridade</th>
                <th>Data Início</th>
                <th>Data Fim</th>
                <th>Valor Opcional</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="tabelaTarefasCorpo">
            </tbody>
          </table>
        </div>
      </section>

      <section id="painel-tarefa-atribuir" class="oculto">
        <h2>Gerenciar Atribuições de Tarefas</h2>
        <button class="btn btn-criar" onclick="abrirModalNovaAtribuicao()">Nova Atribuição</button>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>ID Tarefa</th>
                <th>Tarefa</th>
                <th>ID Usuário</th>
                <th>Usuário</th>
                <th>Status</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="tabelaAtribuicoesCorpo">
            </tbody>
          </table>
        </div>
      </section>

      <section id="painel-visao-financeira" class="oculto">
        <h2>Visão Financeira e KPIs</h2>
        <div class="kpi-grid">
          <div class="kpi-card">
            <h3>Receitas do Mês</h3>
            <p id="kpiReceitas">R$ 0,00</p>
          </div>
          <div class="kpi-card">
            <h3>Despesas do Mês</h3>
            <p id="kpiDespesas">R$ 0,00</p>
          </div>
          <div class="kpi-card">
            <h3>Saldo Atual</h3>
            <p id="kpiSaldo">R$ 0,00</p>
          </div>
          <div class="kpi-card">
            <h3>Lançamentos em Aberto</h3>
            <p id="kpiLancamentosEmAberto">0</p>
          </div>
          <div class="kpi-card">
            <h3>Orçamento Restante</h3>
            <p id="kpiOrcamentoRestante">R$ 0,00</p>
          </div>
        </div>
        <div class="chart-container">
          <canvas id="receitasDespesasChart"></canvas>
          <canvas id="orcamentoRealizadoChart"></canvas>
        </div>
      </section>

      <section id="painel-calendario" class="oculto">
        <h2>Calendário Financeiro</h2>
        <div id="calendar"></div>
      </section>

      <section id="painel-lancamentos" class="oculto">
        <h2>Gerenciar Lançamentos</h2>
        <button class="btn btn-criar" onclick="abrirModalNovoLancamento()">Novo Lançamento</button>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Descrição</th>
                <th>Tipo</th>
                <th>Valor</th>
                <th>Data</th>
                <th>Categoria</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="tabelaLancamentosCorpo">
            </tbody>
          </table>
        </div>
      </section>

      <section id="painel-extratos" class="oculto">
        <h2>Gerenciar Extratos Bancários</h2>
        <button class="btn btn-criar" onclick="abrirModalNovoExtrato()">Novo Extrato</button>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Data</th>
                <th>Descrição</th>
                <th>Tipo</th>
                <th>Valor</th>
                <th>Saldo</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="tabelaExtratosCorpo">
            </tbody>
          </table>
        </div>
      </section>

      <section id="painel-indices" class="oculto">
        <h2>Gerenciar Índices Financeiros</h2>
        <button class="btn btn-criar" onclick="abrirModalNovoIndice()">Novo Índice</button>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Valor</th>
                <th>Data</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="tabelaIndicesCorpo">
            </tbody>
          </table>
        </div>
      </section>

      <section id="painel-produtos" class="oculto">
        <h2>Gerenciar Produtos/Serviços</h2>
        <button class="btn btn-criar" onclick="abrirModalNovoProduto()">Novo Produto</button>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Descrição</th>
                <th>Preço</th>
                <th>Estoque</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="tabelaProdutosCorpo">
            </tbody>
          </table>
        </div>
      </section>

      <section id="painel-perfil" class="oculto">
        <h2>Meu Perfil</h2>
        <div class="profile-card">
          <p><strong>Nome:</strong> <span id="perfilNome"></span></p>
          <p><strong>Email:</strong> <span id="perfilEmail"></span></p>
          <p><strong>ID Usuário:</strong> <span id="perfilId"></span></p>
        </div>
        <button class="btn btn-editar" onclick="abrirModalEdicaoPerfil()">Editar Perfil</button>
      </section>

      <section id="painel-orcamentos-anuais" class="oculto">
        <h2>Gerenciar Orçamentos Anuais</h2>
        <button class="btn btn-criar" onclick="abrirModalNovoOrcamentoAnual()">Novo Orçamento Anual</button>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Ano</th>
                <th>Valor Orçado</th>
                <th>ID Categoria</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="tabelaOrcamentosAnuaisCorpo">
            </tbody>
          </table>
        </div>
      </section>

      <section id="painel-orcamentos-tri" class="oculto">
        <h2>Gerenciar Orçamentos Trimestrais</h2>
        <button class="btn btn-criar" onclick="abrirModalNovoOrcamentoTrimestral()">Novo Orçamento Trimestral</button>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Ano</th>
                <th>Trimestre</th>
                <th>Valor Orçado</th>
                <th>ID Categoria</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="tabelaOrcamentosTrimestraisCorpo">
            </tbody>
          </table>
        </div>
      </section>

    </main>

    <div id="modalTarefa" class="modal oculto">
      <div class="modal-content">
        <h3 id="modalTituloTarefa"></h3>
        <form id="formTarefaModal">
          <input type="hidden" id="txtIdTarefa">
          <label>Título:<input type="text" id="txtTituloTarefa" required></label>
          <label>Descrição:<textarea id="txtDescricaoTarefa"></textarea></label>
          <label>Prioridade:
            <select id="selectPrioridadeTarefa">
              <option value="Baixa">Baixa</option>
              <option value="Média">Média</option>
              <option value="Alta">Alta</option>
            </select>
          </label>
          <label>Data Início:<input type="date" id="txtDataInicioTarefa" required></label>
          <label>Data Fim:<input type="date" id="txtDataFimTarefa" required></label>
          <label>Valor Opcional:<input type="number" id="txtValorOpcionalTarefa" step="0.01"></label>
          <div class="modal-actions">
            <button type="button" class="btn-cancelar" onclick="fecharModal('modalTarefa')">Cancelar</button>
            <button type="submit" class="btn-criar">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <div id="modalAtribuicao" class="modal oculto">
      <div class="modal-content">
        <h3 id="modalTituloAtribuicao"></h3>
        <form id="formAtribuicaoModal">
          <input type="hidden" id="txtIdAtribuicao">
          <label>Usuário:
            <select id="selectUsuarioAtribuicao" required></select>
          </label>
          <label>Tarefa:
            <select id="selectTarefaAtribuicao" required></select>
          </label>
          <label>Status:
            <select id="selectStatusAtribuicao">
              <option value="Pendente">Pendente</option>
              <option value="Em Andamento">Em Andamento</option>
              <option value="Concluída">Concluída</option>
              <option value="Cancelada">Cancelada</option>
            </select>
          </label>
          <div class="modal-actions">
            <button type="button" class="btn-cancelar" onclick="fecharModal('modalAtribuicao')">Cancelar</button>
            <button type="submit" class="btn-criar">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <div id="modalLancamento" class="modal oculto">
      <div class="modal-content">
        <h3 id="modalTituloLancamento"></h3>
        <form id="formLancamentoModal">
          <input type="hidden" id="txtIdLancamentoModal">
          <label>Descrição:<input type="text" id="txtDescricaoLancamentoModal" required></label>
          <label>Tipo:
            <select id="selectTipoLancamentoModal">
              <option value="Receita">Receita</option>
              <option value="Despesa">Despesa</option>
            </select>
          </label>
          <label>Valor:<input type="number" id="txtValorLancamentoModal" step="0.01" required></label>
          <label>Data Lançamento:<input type="date" id="txtDataLancamentoModal" required></label>
          <label>Data Pagamento:<input type="date" id="txtDataPagamentoLancamentoModal"></label>
          <label>Status:
            <select id="selectStatusLancamentoModal">
              <option value="Em aberto">Em aberto</option>
              <option value="Pago">Pago</option>
              <option value="Vencido">Vencido</option>
            </select>
          </label>
          <label>ID Categoria:<input type="number" id="txtIdCategoriaLancamentoModal" required></label>
          <label>ID Subcategoria:<input type="number" id="txtIdSubcategoriaLancamentoModal"></label>
          <div class="modal-actions">
            <button type="button" class="btn-cancelar" onclick="fecharModal('modalLancamento')">Cancelar</button>
            <button type="submit" class="btn-criar">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <div id="modalExtrato" class="modal oculto">
      <div class="modal-content">
        <h3 id="modalTituloExtrato"></h3>
        <form id="formExtratoModal">
          <input type="hidden" id="txtIdExtratoModal">
          <label>Data:<input type="date" id="txtDataExtratoModal" required></label>
          <label>Descrição:<input type="text" id="txtDescricaoExtratoModal" required></label>
          <label>Tipo:
            <select id="selectTipoExtratoModal">
              <option value="Entrada">Entrada</option>
              <option value="Saida">Saída</option>
            </select>
          </label>
          <label>Valor:<input type="number" id="txtValorExtratoModal" step="0.01" required></label>
          <label>Saldo Resultante:<input type="number" id="txtSaldoExtratoModal" step="0.01" required></label>
          <div class="modal-actions">
            <button type="button" class="btn-cancelar" onclick="fecharModal('modalExtrato')">Cancelar</button>
            <button type="submit" class="btn-criar">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <div id="modalIndice" class="modal oculto">
      <div class="modal-content">
        <h3 id="modalTituloIndice"></h3>
        <form id="formIndiceModal">
          <input type="hidden" id="txtIdIndiceModal">
          <label>Nome:<input type="text" id="txtNomeIndiceModal" required></label>
          <label>Valor:<input type="number" id="txtValorIndiceModal" step="0.0001" required></label>
          <label>Data:<input type="date" id="txtDataIndiceModal" required></label>
          <div class="modal-actions">
            <button type="button" class="btn-cancelar" onclick="fecharModal('modalIndice')">Cancelar</button>
            <button type="submit" class="btn-criar">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <div id="modalProduto" class="modal oculto">
      <div class="modal-content">
        <h3 id="modalTituloProduto"></h3>
        <form id="formProdutoModal">
          <input type="hidden" id="txtIdProdutoModal">
          <label>Nome:<input type="text" id="txtNomeProdutoModal" required></label>
          <label>Descrição:<textarea id="txtDescricaoProdutoModal"></textarea></label>
          <label>Preço:<input type="number" id="txtPrecoProdutoModal" step="0.01" required></label>
          <label>Estoque:<input type="number" id="txtEstoqueProdutoModal" required></label>
          <div class="modal-actions">
            <button type="button" class="btn-cancelar" onclick="fecharModal('modalProduto')">Cancelar</button>
            <button type="submit" class="btn-criar">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <div id="modalPerfil" class="modal oculto">
      <div class="modal-content">
        <h3 id="modalTituloPerfil">Editar Perfil</h3>
        <form id="formPerfilModal">
          <input type="hidden" id="txtIdPerfilModal">
          <label>Nome:<input type="text" id="txtNomePerfilModal" required></label>
          <label>Email:<input type="email" id="txtEmailPerfilModal" required></label>
          <div class="modal-actions">
            <button type="button" class="btn-cancelar" onclick="fecharModal('modalPerfil')">Cancelar</button>
            <button type="submit" class="btn-criar">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal Orçamento Anual -->
    <div id="modalOrcamentoAnual" class="modal oculto">
      <div class="modal-content">
        <h2 id="tituloModalOrcAnual">Novo Orçamento Anual</h2>
        <form id="formOrcamentoAnual">
          <input type="hidden" id="txtIdOrcamentoAnualModal">

          <label>Valor (R$):</label>
          <input type="number" id="txtValorOrcamentoAnualModal" step="0.01" required>

          <label>Ano:</label>
          <input type="number" id="txtAnoOrcamentoAnualModal" required>

          <label>ID Categoria:</label>
          <input type="number" id="txtIdCategoriaOrcAnualModal" required>

          <div class="modal-actions">
            <button type="button" class="btn btn-cancelar"
              onclick="fecharModal('modalOrcamentoAnual')">Cancelar</button>
            <button type="submit" class="btn btn-confirmar">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal Orçamento Trimestral -->
    <div id="modalOrcamentoTrimestral" class="modal oculto">
      <div class="modal-content">
        <h3 id="modalTituloOrcamentoTrimestral">Cadastrar Orçamento Trimestral</h3>
        <form id="formOrcamentoTrimestralModal">
          <input type="hidden" id="txtIdOrcamentoTrimestralModal">

          <label>Valor (R$):</label>
          <input type="number" id="txtValorOrcamentoTriModal" step="0.01" required>

          <label>Trimestre:</label>
          <select id="txtTrimestreOrcamentoTriModal" required>
            <option value="">Selecione</option>
            <option value="1">1º Trimestre</option>
            <option value="2">2º Trimestre</option>
            <option value="3">3º Trimestre</option>
            <option value="4">4º Trimestre</option>
          </select>

          <label>ID Orçamento Anual:</label>
          <input type="number" id="txtIdOrcamentoAnualTriModal" required>

          <label>ID Categoria:</label>
          <input type="number" id="txtIdCategoriaOrcTriModal" required>

          <div class="modal-actions">
            <button type="button" class="btn btn-cancelar"
              onclick="fecharModal('modalOrcamentoTrimestral')">Cancelar</button>
            <button type="submit" class="btn btn-confirmar">Salvar</button>
          </div>
        </form>
      </div>
    </div>





    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/pt.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
    <script src="../../javascript/gerenteFinanceiroFunctions/dashboardGerenteFinanceiro.js"></script>
</body>

</html>