<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Painel Gerente - Sistema de Tarefas</title>
    <meta name="description" content="Painel administrativo moderno para gerenciamento de tarefas e equipes" />

    <!-- √çcones Lucide -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- FullCalendar CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" />

    <!-- CSS personalizado -->
    <link rel="stylesheet" href="../../css/gerentecss/gerente.css" />
</head>

<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo-container">
                <i class="logo-icon" data-lucide="layers-3"></i>
            </div>
            <span class="system-name">Gerente</span>
        </div>
        <nav class="sidebar-nav">
            <button class="menu-button btn-nav ativo" data-secao="tarefas">
                <i data-lucide="clipboard-list" class="menu-icon"></i>
                <span class="menu-label label">Tarefas</span>
            </button>
            <button class="menu-button btn-nav" data-secao="atribuicoes">
                <i data-lucide="user-check" class="menu-icon"></i>
                <span class="menu-label label">Atribui√ß√µes</span>
            </button>
            <button class="menu-button btn-nav" data-secao="calendario">
                <i data-lucide="calendar" class="menu-icon"></i>
                <span class="menu-label label">Calend√°rio</span>
            </button>
        </nav>
        <div class="sidebar-footer">
            <button class="menu-button logout-button" id="logoutBtn">
                <i data-lucide="log-out" class="menu-icon"></i>
                <span class="menu-label label">Sair</span>
            </button>
        </div>
    </aside>

    <!-- Conte√∫do Principal -->
    <main class="main-content">
        <!-- Painel Tarefas -->
        <section class="content-section active" id="painel-tarefas">
            <div class="section-header">
                <h1>Tarefas</h1>
                <button class="btn-primary" id="btnNovaTarefa">
                    <i data-lucide="plus" class="btn-icon"></i>
                    Nova Tarefa
                </button>
            </div>

            <!-- Cards de Resumo -->
            <div class="stats-grid cards-resumo">
                <div class="stats-card total card-box">
                    <div class="stats-text">
                        <p class="stats-title">Total</p>
                        <h3 id="cardTotal">0</h3>
                    </div>
                </div>
                <div class="stats-card completed verde card-box">
                    <div class="stats-text">
                        <p class="stats-title">Conclu√≠das</p>
                        <h3 id="cardConcluidas">0</h3>
                    </div>
                </div>
                <div class="stats-card pending amarelo card-box">
                    <div class="stats-text">
                        <p class="stats-title">Pendentes</p>
                        <h3 id="cardPendentes">0</h3>
                    </div>
                </div>
                <div class="stats-card progress azul card-box">
                    <div class="stats-text">
                        <p class="stats-title">Em Andamento</p>
                        <h3 id="cardAndamento">0</h3>
                    </div>
                </div>
            </div>

            <!-- Painel de Filtros de Tarefas -->
            <div class="filters-panel">
                <div class="filters-header">
                    <h3>
                        <i data-lucide="filter" class="filter-icon"></i>
                        Filtros
                    </h3>
                    <button class="btn-clear-filters" id="btnLimparFiltrosTarefas">
                        <i data-lucide="x" class="btn-icon"></i>
                        Limpar Filtros
                    </button>
                </div>

                <div class="filter-selector">
                    <label>
                        <i data-lucide="settings-2" class="input-icon"></i>
                        Adicionar Filtro
                    </label>
                    <select id="seletorFiltroTarefas" class="filter-type-select">
                        <option value="">Selecione um filtro...</option>
                        <option value="busca">üîç Buscar</option>
                        <option value="prioridade">üö© Prioridade</option>
                        <option value="data">üìÖ Data</option>
                        <option value="ordenar">‚ÜïÔ∏è Ordenar</option>
                    </select>
                </div>

                <div id="filtrosAtivosTarefas" class="active-filters"></div>
            </div>

            <!-- Tabela de Tarefas -->
            <div class="table-container">
                <table class="task-table tabela" id="tabelaTarefas">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>T√≠tulo</th>
                            <th>Descri√ß√£o</th>
                            <th>Prioridade</th>
                            <th>In√≠cio</th>
                            <th>Fim</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <div class="empty-state" id="emptyStateTarefas" style="display: none;">
                <p>Nenhuma tarefa encontrada com os filtros aplicados</p>
            </div>
            <div class="resposta" id="respostaTarefas"></div>
        </section>

        <!-- Painel Atribui√ß√µes -->
        <section class="content-section" id="painel-atribuicoes">
            <div class="section-header">
                <h1>Atribui√ß√µes</h1>
                <button class="btn-primary" id="btnNovaAtribuicao">
                    <i data-lucide="plus" class="btn-icon"></i>
                    Nova Atribui√ß√£o
                </button>
            </div>

            <!-- Painel de Filtros de Atribui√ß√µes -->
            <div class="filters-panel">
                <div class="filters-header">
                    <h3>
                        <i data-lucide="filter" class="filter-icon"></i>
                        Filtros
                    </h3>
                    <button class="btn-clear-filters" id="btnLimparFiltrosAtribuicoes">
                        <i data-lucide="x" class="btn-icon"></i>
                        Limpar Filtros
                    </button>
                </div>

                <div class="filter-selector">
                    <label>
                        <i data-lucide="settings-2" class="input-icon"></i>
                        Adicionar Filtro
                    </label>
                    <select id="seletorFiltroAtribuicoes" class="filter-type-select">
                        <option value="">Selecione um filtro...</option>
                        <option value="busca">üîç Buscar</option>
                        <option value="usuario">üë§ Usu√°rio</option>
                        <option value="tarefa">üìã Tarefa</option>
                        <option value="status">‚úÖ Status</option>
                        <option value="ordenar">‚ÜïÔ∏è Ordenar</option>
                    </select>
                </div>

                <div id="filtrosAtivosAtribuicoes" class="active-filters"></div>
            </div>

            <!-- Tabela de Atribui√ß√µes -->
            <div class="resposta" id="respostaAtribuicoes"></div>
            <div class="table-container">
                <table class="task-table tabela" id="tabelaAtribuicoes">
                    <thead>
                        <tr>
                            <th>Usu√°rio</th>
                            <th>Tarefa</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <div class="empty-state" id="emptyStateAtribuicoes" style="display: none;">
                <p>Nenhuma atribui√ß√£o encontrada com os filtros aplicados</p>
            </div>
        </section>

        <!-- Painel Calend√°rio -->
        <section class="content-section" id="painel-calendario">
            <h1>Calend√°rio de Tarefas</h1>
            <div id="calendar"></div>
        </section>
    </main>

    <!-- Modais -->
    <!-- Modal Recado -->
    <div class="modal-overlay modal oculto" id="modalRecado">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Adicionar Recado</h3>
            </div>
            <div class="modal-body">
                <p>Data: <span id="dataRecado"></span></p>
                <textarea id="txtRecado" rows="4" placeholder="Digite seu recado..." required></textarea>
            </div>
            <div class="modal-actions">
                <button class="btn-primary" id="salvarRecado">Salvar</button>
                <button class="btn-secondary" id="cancelarRecado">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal Confirma√ß√£o -->
    <div class="modal-overlay modal oculto" id="modalConfirmacao">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirma√ß√£o</h3>
            </div>
            <div class="modal-body">
                <p id="modal-text-confirmacao">Tem certeza?</p>
            </div>
            <div class="modal-actions">
                <button class="btn-primary" id="confirmarAcao">Confirmar</button>
                <button class="btn-secondary" id="cancelarAcao">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal Detalhes Tarefa -->
    <div class="modal-overlay modal oculto" id="modalDetalhesTarefa">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="detalhesTituloTarefa">Detalhes da Tarefa</h3>
            </div>
            <div class="modal-body">
                <pre id="detalhesDescricaoTarefa"></pre>
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" id="fecharDetalhesTarefa">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Modal Tarefa -->
    <div class="modal-overlay modal oculto" id="modalTarefa">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTituloTarefa">Nova Tarefa</h3>
            </div>
            <form id="formTarefa" class="task-form">
                <input id="inputIdTarefa" type="hidden" />
                <div class="form-group">
                    <label for="inputTituloTarefa">T√≠tulo *</label>
                    <input id="inputTituloTarefa" type="text" required />
                </div>
                <div class="form-group">
                    <label for="inputDescricaoTarefa">Descri√ß√£o</label>
                    <textarea id="inputDescricaoTarefa" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="selectPrioridadeTarefa">Prioridade</label>
                    <select id="selectPrioridadeTarefa">
                        <option value="Baixa">Baixa</option>
                        <option value="M√©dia" selected>M√©dia</option>
                        <option value="Alta">Alta</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="inputDataInicio">Data In√≠cio *</label>
                        <input id="inputDataInicio" type="date" required />
                    </div>
                    <div class="form-group">
                        <label for="inputDataFim">Data Fim *</label>
                        <input id="inputDataFim" type="date" required />
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn-primary" type="submit">Salvar</button>
                    <button class="btn-secondary" id="btnCancelarTarefa" type="button">Cancelar</button>
                </div>
                <div class="resposta" id="respostaTarefasModal"></div>
            </form>
        </div>
    </div>

    <!-- Modal Atribui√ß√£o -->
    <div class="modal-overlay modal oculto" id="modalAtribuicao">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTituloAtribuicao">Nova Atribui√ß√£o</h3>
            </div>
            <form id="formAtribuicao" class="task-form">
                <div class="form-group">
                    <label for="selectUsuario">Usu√°rio *</label>
                    <select id="selectUsuario" required></select>
                </div>
                <div class="form-group">
                    <label for="selectTarefa">Tarefa *</label>
                    <select id="selectTarefa" required></select>
                </div>
                <div class="form-group">
                    <label for="selectStatusAtribuicao">Status</label>
                    <select id="selectStatusAtribuicao">
                        <option value="pendente">Pendente</option>
                        <option value="andamento">Em andamento</option>
                        <option value="concluida">Conclu√≠da</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button class="btn-primary" type="submit">Salvar</button>
                    <button class="btn-secondary" id="btnCancelarAtribuicao" type="button">Cancelar</button>
                </div>
                <div class="resposta" id="respostaAtribuicoesModal"></div>
            </form>
        </div>
    </div>

    <!-- Resposta Popup -->
    <div id="divResposta" class="resposta-popup"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
    <script src="../../javascript/gerenteFunctions/dashboardGerente.js"></script>
</body>

</html>